(this["webpackJsonpdeltaswap-crosschain"]=this["webpackJsonpdeltaswap-crosschain"]||[]).push([[6],{2782:function(h,e,n){"use strict";n.r(e),n.d(e,"default",function(){return v});var t=n(2),ue=n(0),se=n.n(ue),e=n(4),he=n(37),a=n(56),Le=n.n(a),be=n(40),pe=n(90),ge=n(77),Me=n(50),fe=n(31),xe=n(218),we=n(106),Ee=n(460),Ie=n(1164),ve=n(198),a=n(167),Oe=n.n(a);function je(e,t,a){return new Promise(n=>{Oe.a.get(e).then(e=>{e&&e.data&&200===e.status?(window.localStorage.setItem(t,JSON.stringify({timestamp:Date.now(),data:e.data,address:a})),n({msg:"Success",data:e.data})):(window.localStorage.setItem(t,""),n({msg:"Error",data:""}))}).catch(e=>{window.localStorage.setItem(t,""),n({msg:"Error",data:""})})})}var r,o,i,l,d,Pe=n(461),a=n(213);const ze=e.default.div(Object(t.a)(["\n  width: 100%;\n\n  border-radius: 0.5625rem;\n  box-shadow: 0.4375rem 0.125rem 1.625rem 0 rgba(0, 0, 0, 0.06);\n  background-color: ",";\n  padding: 1rem 2.5rem;\n  margin-bottom: 20px;\n  overflow:auto;\n  @media screen and (max-width: 960px) {\n    padding: 1rem 1rem;\n  }\n"]),e=>{e=e.theme;return e.contentBg}),Fe=e.default.div(Object(t.a)(["\n  ",";\n"]),e=>{e=e.theme;return e.flexC}),We=(e.default.div(Object(t.a)(["\n  ",";\n  margin-bottom: 1.5625rem;\n  font-family: 'Manrope';\n  h3 {\n    font-size: 1rem;\n    font-weight: bold;\n    line-height: 1.5;\n    color: ",";\n    margin: 0 1.25rem 0 0;\n    white-space: nowrap;\n  }\n"]),e=>{e=e.theme;return e.flexBC},e=>{e=e.theme;return e.textColorBold}),e.default.div(Object(t.a)(["\n  width: 100%;\n  max-width: 296px;\n  height: 2.5rem;\n\n  border-radius: 0.5625rem;\n  box-shadow: 0 0.125rem 0.25rem 0 rgba(0, 0, 0, 0.04);\n  border: solid 0.0625rem rgba(0, 0, 0, 0.1);\n  padding-left: 2.5rem;\n  position: relative;\n\n  .icon {\n    ",";\n    width: 2.5rem;\n    height: 2.5rem;\n    position: absolute;\n    top: 0;\n    left: 0;\n    cursor: pointer;\n  }\n"]),e=>{e=e.theme;return e.flexC}),e.default.input(Object(t.a)(["\n  width: 100%;\n  height: 100%;\n  color: ",";\n  position: relative;\n  font-weight: 500;\n  outline: none;\n  border: none;\n  flex: 1 1 auto;\n  background-color: none;\n  font-size: 0.75rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 0px;\n  -webkit-appearance: textfield;\n  background: none;\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  [type='number'] {\n    -moz-appearance: textfield;\n  }\n\n  ::-webkit-outer-spin-button,\n  ::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  ::placeholder {\n    // color: ",";\n    color:#DADADA;\n  }\n"]),e=>{e=e.theme;return e.textColorBold},e=>{e=e.theme;return e.text4}),e.default.div(Object(t.a)(["\n  width: 100%;\n  height: 230px;\n  overflow-y: hidden;\n  overflow-x: auto;\n  &.showMore {\n    height: auto;\n    overflow: auto;\n  }\n"])),e.default.table(Object(t.a)(["\n  min-width: 100%;\n  table-layer: fixed;\n  border-spacing:0px 10px;\n"]))),Ve=(e.default.div(Object(t.a)(["\n  min-width: 100%;\n"])),e.default.thead(Object(t.a)(["\n  width: 100%;\n  border-radius: 0.5625rem;\n  box-shadow: 0 0.125rem 0.25rem 0 rgba(0, 0, 0, 0.04);\n  border: solid 1px rgba(0, 0, 0, 0.1);\n  background-color: ",";\n  margin-bottom: 0.625rem;\n  font-size: 12px;\n  tr {\n    box-shadow: 0 0.125rem 0.25rem 0 rgba(0, 0, 0, 0.04);\n  }\n  @media screen and (max-width: 960px) {\n    padding: 1rem 5px;\n  }\n"]),e=>{e=e.theme;return e.contentBg})),ke=(e.default.div(Object(t.a)(["\n  width: 100%;\n  border-radius: 0.5625rem;\n  box-shadow: 0 0.125rem 0.25rem 0 rgba(0, 0, 0, 0.04);\n  // border: solid 1px rgba(0, 0, 0, 0.1);\n  background-color: ",";\n  margin-top: 0.625rem;\n  margin-bottom: 0.625rem;\n  font-size: 12px;\n  \n  @media screen and (max-width: 960px) {\n    padding: 1rem 5px;\n  }\n"]),e=>{e=e.theme;return e.contentBg}),e.default.div(Object(t.a)(["\n  ",";\n  \n  box-shadow: 0 0.125rem 0.25rem 0 rgba(0, 0, 0, 0.04);\n"]),e=>{e=e.theme;return e.flexRowNoWrap}),e.default.th(Object(t.a)(["\n  color: ",";\n  background-color: ",";\n  padding: 12px 8px;\n  white-space: nowrap;\n  font-size: 0.875rem;\n  font-weight: bold;\n  line-height: 1.5;\n  &.r {\n    text-align: right;\n  }\n  &.l {\n    text-align: left;\n  }\n  &.c {\n    text-align: center;\n  }\n  &.hideSmall {\n    \n  }\n  ","\n"]),e=>{e=e.theme;return e.textColorBold},e=>{e=e.theme;return e.contentBg},e=>{e=e.theme;return e.mediaWidth.upToMedium(r=r||Object(t.a)(["\n    &.hideSmall {\n      display:none;\n    }\n  "]))})),Ue=(e.default.div(Object(t.a)(["\n  color: ",";\n  background-color: ",";\n  padding: 12px 8px;\n  white-space: nowrap;\n  font-size: 0.875rem;\n  font-weight: bold;\n  line-height: 1.5;\n  &.r {\n    text-align: right;\n  }\n  &.l {\n    text-align: left;\n  }\n  &.c {\n    text-align: center;\n  }\n  &.hideSmall {\n    \n  }\n  &.token {\n    width: 140px;\n  }\n  &.chain {\n    flex: 1;\n  }\n  &.liquidity {\n    width: 150px;\n  }\n  &.detail {\n    width: 110px;\n  }\n  ","\n"]),e=>{e=e.theme;return e.textColorBold},e=>{e=e.theme;return e.contentBg},e=>{e=e.theme;return e.mediaWidth.upToMedium(o=o||Object(t.a)(["\n    &.hideSmall {\n      display:none;\n    }\n  "]))}),e.default.tbody(Object(t.a)(["\n  width: 100%;\n  border-radius: 0.5625rem;\n  border: solid 1px rgba(0, 0, 0, 0.1);\n  background-color: ",";\n  margin-bottom: 0.625rem;\n  font-size: 12px;\n  tr {\n    // box-shadow: 0 0.125rem 0.25rem 0 rgba(0, 0, 0, 0.04);\n    box-shadow: ",";\n  }\n  @media screen and (max-width: 960px) {\n    padding: 1rem 5px;\n  }\n"]),e=>{e=e.theme;return e.contentBg},e=>{e=e.theme;return e.tableShadow})),ye=(e.default.div(Object(t.a)(["\n  width: 100%;\n  border-radius: 0.5625rem;\n  // border: solid 1px rgba(0, 0, 0, 0.1);\n  background-color: ",";\n  margin-bottom: 0.625rem;\n  font-size: 12px;\n  @media screen and (max-width: 960px) {\n    padding: 1rem 5px;\n  }\n"]),e=>{e=e.theme;return e.contentBg}),e.default.div(Object(t.a)(["\n  ",";\n  box-shadow: ",";\n"]),e=>{e=e.theme;return e.flexRowNoWrap},e=>{e=e.theme;return e.tableShadow}),e.default.td(Object(t.a)(["\n  background-color: ",";\n  padding: 8px 8px;\n  white-space: nowrap;\n  font-size: 0.875rem;\n  font-weight: bold;\n  line-height: 1.5;\n  color: ",";\n  &.r {\n    text-align: right;\n  }\n  &.l {\n    text-align: left;\n  }\n  &.c {\n    text-align: center;\n  }\n  p {\n    margin: 0;\n    &.lr {\n      ",";\n    }\n    &.textR {\n      ",";\n    }\n  }\n  \n  &.hideSmall {\n    \n  }\n  ","\n"]),e=>{e=e.theme;return e.contentBg},e=>{e=e.theme;return e.textColorBold},e=>{e=e.theme;return e.flexBC},e=>{e=e.theme;return e.flexEC},e=>{e=e.theme;return e.mediaWidth.upToMedium(i=i||Object(t.a)(["\n    &.hideSmall {\n      display:none;\n    }\n  "]))})),qe=(e.default.div(Object(t.a)(["\n  background-color: ",";\n  padding: 8px 8px;\n  white-space: nowrap;\n  font-size: 0.875rem;\n  font-weight: bold;\n  line-height: 1.5;\n  color: ",";\n  &.r {\n    text-align: right;\n  }\n  &.l {\n    text-align: left;\n  }\n  &.c {\n    text-align: center;\n  }\n  &.token {\n    width: 140px;\n  }\n  &.chain {\n    padding-top: 12px;\n    flex: 1;\n  }\n  &.liquidity {\n    line-height: 2.5;\n    width: 150px;\n  }\n  &.detail {\n    padding-top: 22px;\n    width: 110px;\n  }\n  &.full {\n    width: 100%;\n  }\n  p {\n    margin: 0;\n    &.lr {\n      ",";\n    }\n    &.textR {\n      ",";\n    }\n  }\n  \n  &.hideSmall {\n    \n  }\n  ","\n"]),e=>{e=e.theme;return e.contentBg},e=>{e=e.theme;return e.textColorBold},e=>{e=e.theme;return e.flexBC},e=>{e=e.theme;return e.flexEC},e=>{e=e.theme;return e.mediaWidth.upToMedium(l=l||Object(t.a)(["\n    &.hideSmall {\n      display:none;\n    }\n  "]))}),e.default.div(Object(t.a)(["\n  ",";\n  padding: 0 0px;\n\n  @media screen and (max-width: 960px) {\n    padding: 0 5px;\n  }\n"]),e=>{e=e.theme;return e.flexSC})),b=e.default.div(Object(t.a)(["\n  ",";\n  width: 36px;\n  height: 36px;\n\n  box-shadow: 0 0.125rem 0.25rem 0 rgba(0, 0, 0, 0.04);\n  border: solid 0.0625rem rgba(0, 0, 0, 0.1);\n  background-color: ",";\n  border-radius: 100%;\n  padding: 0.3125rem;\n  margin-right: 1.25rem;\n  @media screen and (max-width: 960px) {\n    margin-right: 5px;\n    padding: 5px;\n  }\n"]),e=>{e=e.theme;return e.flexC},e=>{e=e.theme;return e.contentBg}),_e=e.default.div(Object(t.a)(["\n  font-family: 'Manrope';\n  h3 {\n    margin: 0;\n    font-size: 1rem;\n    font-weight: 800;\n    line-height: 1.25;\n    color: ",";\n    white-space: nowrap;\n  }\n  p {\n    margin: 0.125rem 0 0;\n    font-size: 0.75rem;\n    font-weight: normal;\n    white-space: nowrap;\n    line-height: 1;\n    color: ",";\n  }\n"]),e=>{e=e.theme;return e.textColorBold},e=>{e=e.theme;return e.textColorBold}),c=Object(e.default)(a.c)(Object(t.a)(["\n  ",";\n  font-family: 'Manrope';\n  width: 88px;\n  height: 38px;\n\n  border-radius: 0.5625rem;\n  background: ",";\n  margin-right: 0.125rem;\n\n  font-size: 0.75rem;\n  font-weight: 500;\n\n  line-height: 1;\n\n  color: ",";\n  box-shadow: none;\n  padding: 0;\n  text-decoration: none;\n  &:hover,\n  &:focus,\n  &:active {\n    background: ",";\n  }\n"]),e=>{e=e.theme;return e.flexC},e=>{e=e.theme;return e.selectedBg},e=>{e=e.theme;return e.textColorBold},e=>{e=e.theme;return e.selectedBg});Object(e.default)(c)(Object(t.a)(["\n  margin-right: 0.125rem;\n  &.disabled{\n    opacity: 0.5;\n    cursor: no-drop;\n  }\n"])),e.default.div(Object(t.a)(["\n  ",";\n  background-color: ",";\n  font-family: 'Manrope';\n  width: 110px;\n  height: 34px;\n\n  border-radius: 6px;\n\n  font-size: 0.75rem;\n  font-weight: 500;\n\n  line-height: 1.17;\n\n  color: #734be2;\n  margin: 1.25rem auto 0;\n  cursor: pointer;\n  display:none;\n"]),e=>{e=e.theme;return e.flexC},e=>{e=e.theme;return e.tipBg}),e.default.div(Object(t.a)(["\n  width: 100%;\n  display:none;\n  border-bottom: 1px solid #f0f0f0;\n  .chain {\n    ",";\n    margin: 10px 0;\n    .label {\n      margin-left: 10px;\n    }\n  }\n  .dtil {\n    margin-bottom: 10px;\n    .p {\n      ",";\n      margin:0;\n      font-size: 10px;\n    }\n  }\n  ","\n"]),e=>{e=e.theme;return e.flexSC},e=>{e=e.theme;return e.flexBC},e=>{e=e.theme;return e.mediaWidth.upToMedium(d=d||Object(t.a)(["\n    display:block;\n  "]))});var m,Ne=n(87),Ye=n(30),He=n(42),a=n(1),p=n(62),Je=n(809);(m={})[m.NOT_APPLICABLE=0]="NOT_APPLICABLE",m[m.WRAP=1]="WRAP",m[m.UNWRAP=2]="UNWRAP",m[m.NOCONNECT=3]="NOCONNECT";let Ce=m;const Ge={wrapType:Ce.NOT_APPLICABLE};function u(e){var n={};for(const t in e)p.b.includes(t)&&(n[t]={...e[t]});return n}const s={name:"veDELTA NFT",symbol:"veDELTA",decimals:18},Se=u({[a.a.BNB_TEST]:{...s,address:"0x4d2E8b5FA1bB62C2e9bBA2b2b23902bf06230345"},[a.a.BNB]:{...s,address:"0x55F8D898760240E6Eff3c2cc23974Ae8C8fcEEfD"}}),Te=u({[a.a.BNB_TEST]:{name:"USDCoin",symbol:"USDC",decimals:18,address:"0x86e2c741Bf2BC6772Fed68a75eaa5bfab4a76d16"},[a.a.BNB]:{name:"USDCoin",symbol:"USDC",decimals:18,address:"0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d"}}),Ae=u({[a.a.BNB_TEST]:{address:"0x76c11a1de011de898802b1C81bce768d22B431b1"},[a.a.BNB]:{address:"0x13Ee726D95742D437ebb664Bf0d3fEff8Dbe2a26"}});var g,f,x,w,E,Ke=n(294),Be=n(192),Re=n(13),Qe=n(139);const Xe=e.default.div(Object(t.a)(["\n",";\n  width: 100%;\n  max-width: 1200px;\n"]),e=>{e=e.theme;return e.flexSC}),Ze=Object(e.default)(c)(Object(t.a)(["\n  background:",";\n  width: 120px;\n  color:#fff;\n  margin-bottom:10px;\n  padding-left: 12px;\n  padding-right: 12px;\n  &.disabled {\n    opacity: 0.2;\n  }\n  &:hover,\n  &:focus,\n  &:active {\n    background: ",";\n    opacity: 0.99\n  }\n  ","\n"]),e=>{e=e.theme;return e.primary1},e=>{e=e.theme;return e.primary1},e=>{e=e.theme;return e.mediaWidth.upToMedium(g=g||Object(t.a)(["\n    height: 28px;\n    margin-bottom: 10px;\n  "]))}),$e=Object(e.default)(we.b)(Object(t.a)(["\n  width: auto;\n  height: 38px;\n  border-radius: 0.5625rem;\n  background: ",";\n  margin: 0 5px 10px;\n  font-size:0.75rem;\n  color:#fff;\n  &.disabled {\n    opacity: 0.2;\n  }\n  &:hover,\n  &:focus,\n  &:active {\n    background: ",";\n    opacity: 0.99\n  }\n  ","\n"]),e=>{e=e.theme;return e.primary1},e=>{e=e.theme;return e.primary1},e=>{e=e.theme;return e.mediaWidth.upToMedium(f=f||Object(t.a)(["\n    height: 28px;\n    margin-bottom: 10px;\n  "]))}),en=Object(e.default)(we.b)(Object(t.a)(["\n  ",";\n  font-family: 'Manrope';\n  min-width: auto!important;\n  max-width: auto!important;\n  width: auto;\n  height: 38px;\n  padding: 0 15px;\n  word-break:break-all!important;\n\n  border-radius: 0.5625rem;\n  background: ",";\n  margin-right: 0.125rem;\n\n  font-size: 0.75rem;\n  font-weight: 500;\n\n  line-height: 1;\n\n  color: ",";\n  box-shadow: none;\n  // padding: 0 8px;\n  text-decoration: none;\n  &:hover,\n  &:focus,\n  &:active {\n    background: ",";\n  }\n  &.disabled {\n    opacity: 0.2;\n  }\n  ","\n"]),e=>{e=e.theme;return e.flexC},e=>{e=e.theme;return e.selectedBg},e=>{e=e.theme;return e.textColorBold},e=>{e=e.theme;return e.selectedBg},e=>{e=e.theme;return e.mediaWidth.upToMedium(x=x||Object(t.a)(["\n    height: 28px;\n    margin-bottom: 10px;\n  "]))}),nn=Object(e.default)(c)(Object(t.a)(["\n  min-width: auto!important;\n  max-width: auto!important;\n  width: auto;\n  height: 38px;\n  padding: 0 15px;\n  &.disabled {\n    opacity: 0.2;\n  }\n  ","\n"]),e=>{e=e.theme;return e.mediaWidth.upToMedium(w=w||Object(t.a)(["\n    height: 28px;\n    margin-bottom: 10px;\n  "]))}),tn=e.default.div(Object(t.a)(["\n  width:100%;\n  ",";\n  padding: 30px 0;\n"]),e=>{e=e.theme;return e.flexC}),De=e.default.div(Object(t.a)(["\n  ",";\n  width: 100%;\n  padding: 50px 0;\n  color: ",";\n"]),e=>{e=e.theme;return e.flexC},e=>{e=e.theme;return e.textColorBold}),an=e.default.div(Object(t.a)(["\n  ",";\n  width: 46px;\n  height: 46px;\n  object-fit: contain;\n  box-shadow: 0 0.125rem 0.25rem 0 rgba(0, 0, 0, 0.04);\n  border: solid 0.5px rgba(0, 0, 0, 0.1);\n  border-radius:100%;\n  margin: auto;\n\n  img{\n    // height: 24px;\n    // width: 24px;\n    display:block;\n  }\n"]),e=>{e=e.theme;return e.flexC}),rn=e.default.div(Object(t.a)(["\n  width:100%;\n  .list {\n    width:100%;\n    ",";\n    flex-wrap:wrap;\n    .item {\n      width: 32%;\n      padding: 10px 0;\n      .content {\n        width:100%;\n        box-shadow: 0.4375rem 0.125rem 1.625rem 0 rgba(0, 0, 0, 0.06);\n        background-color: ",";\n        border-radius: 0.5625rem;\n        padding: 1rem 2.5rem;\n        .title {\n          font-size: 14px;\n          color:",";\n          margin: 0 0 15px;\n          font-weight:500;\n          white-space:nowrap;\n        }\n        .value {\n          font-size:16px;\n          color:",";\n          margin-bottom:0;\n          font-weight:bold;\n          text-align:center;\n          white-space:nowrap;\n        }\n        .loading {\n          font-size:14px;\n          color:",";\n          margin-bottom:0;\n          text-align:center;\n        }\n      }\n    }\n  }\n  ","\n"]),e=>{e=e.theme;return e.flexBC},e=>{e=e.theme;return e.contentBg},e=>{e=e.theme;return e.text1},e=>{e=e.theme;return e.textColorBold},e=>{e=e.theme;return e.text1},e=>{e=e.theme;return e.mediaWidth.upToMedium(E=E||Object(t.a)(["\n    .list {\n      .item {\n        width: 48%;\n        .content {\n          padding: 1rem 1rem;\n          .title {\n            white-space:nowrap;\n          }\n        }\n      }\n    }\n  "]))}),on=Object(e.default)(b)(Object(t.a)(["\n  img {\n    max-width: 100%;\n    max-height: 100%;\n  }\n"]));function v(){const t=Object(he.b)()["t"],{account:o,chainId:e}=Object(be.a)(),a=Object(Me.j)()["setUserSelectNetwork"],{getVeshareNFTs:r,useVeshareRewardToken:i}=function(){const{account:i,chainId:e}=Object(be.a)(),l=Object(ue.useMemo)(()=>{if(e&&Se[e])return Se[e]},[e]),n=Object(ue.useMemo)(()=>{if(e&&Ae[e])return Ae[e]},[e]),d=Object(ue.useMemo)(()=>{if(e&&Te[e])return Te[e]},[e]),c=Object(pe.g)(null===l||void 0===l?void 0:l.address),m=Object(pe.i)(null==n?void 0:n.address);return{getVeshareNFTs:Object(ue.useCallback)(async()=>new Promise(async n=>{if(c&&i&&m){let e="";try{e=await c.balanceOf(i)}catch(e){}var t=Array.from({length:parseInt(e)},(e,n)=>n);try{var a=await Promise.all(t.map(async e=>{var n=await c.tokenOfOwnerByIndex(i,e),t=await m.tokenInfo(n),a=t.endTime.toNumber(),r=await c.tokenURI(n),r=await Object(Je.b)(r);let o;try{o=await m.claimable(n)}catch(e){}return{image:r.imageUrl,index:e,id:null==n?void 0:n.toString(),lockEnds:a,lockStart:t.startTime.toNumber(),lockAmount:fe.a.format(l.decimals,t.share.toString()).toExact(),reward:o?fe.a.format(d.decimals,null==(r=o)?void 0:r.toString()).toExact():0,type:"VESHARE"}}));n(a)}catch(e){n([])}}else n([])}),[c,i,m,d]),useVeshareRewardToken:d}}(),[l,I]=Object(ue.useState)(),[n,d]=Object(ue.useState)(),[P,c]=Object(ue.useState)(!1),[m,u]=Object(ue.useState)(),[z,s]=Object(ue.useState)(0),[h,F]=Object(ue.useState)(),[b,W]=Object(ue.useState)(),[p,V]=Object(ue.useState)(),[g,f]=Object(ue.useState)(),[x,w]=Object(ue.useState)(),[E,v]=Object(ue.useState)(),[O,U]=Object(ue.useState)(),[j,q]=Object(ue.useState)(),[k,_]=Object(ue.useState)(12),[Y,H]=Object(ue.useState)(!1),[J,G]=Object(ue.useState)(),[K,Q]=Object(ue.useState)(),[y,N]=Object(ue.useState)(!1),X=Object(ue.useMemo)(()=>{var e=[];for(const n in Se)e.includes(n)||e.push(n);for(const t in Ne.h)e.includes(t)||e.push(t);return e},[Se,Ne.h]),C=Object(ue.useMemo)(()=>{if(e&&Ne.h[e])return Ne.h[e]},[e]),S=Object(ue.useMemo)(()=>{if(e&&Ne.e[e])return Ne.e[e]},[e]),T=Object(ue.useMemo)(()=>{if(e&&Ne.f[e])return Ne.f[e]},[e]),A=Object(ue.useMemo)(()=>{if(e&&Ne.d[e])return Ne.d[e]},[e]),B=Object(ue.useMemo)(()=>{if(null!==m&&void 0!==m&&m.id&&O&&O[null===m||void 0===m?void 0:m.id])return s(1),{...O[null===m||void 0===m?void 0:m.id],id:null===m||void 0===m?void 0:m.id};s(0)},[m,O]),Z=Object(ue.useMemo)(()=>{var e=[];return l&&e.push(...l),n&&e.push(...n),e},[n,l]),R=Object(pe.g)(null===C||void 0===C?void 0:C.address),D=Object(pe.h)(null==S?void 0:S.address),L=Object(pe.f)(null===A||void 0===A?void 0:A.address),$=Object(Ke.a)(null==S?void 0:S.address,null===B||void 0===B?void 0:B.id,null===B||void 0===B?void 0:B.list)["execute"],ee=function(t){const e=Object(be.a)()["chainId"],n=Object(ue.useMemo)(()=>{if(e&&Ae[e])return Ae[e].address},[e]),a=Object(pe.i)(n),r=Object(Ye.j)()["onChangeViewErrorTip"],o=Object(he.b)()["t"],i=Object(He.e)();return Object(ue.useMemo)(()=>a&&e&&t?{wrapType:Ce.WRAP,execute:async()=>{var e={};try{var n=await a.claimReward(Number(t.id));i(n,{summary:"Claim Reward"}),e.hash=null==n?void 0:n.hash}catch(e){r(e,!0)}return e},inputError:void 0}:Ge,[a,e,i,o,t])}(m)["execute"],ne=Object(Ke.f)(null===C||void 0===C?void 0:C.address)["execute"],M=Object(ue.useRef)({}),te=Object(ue.useCallback)(async t=>{if(D&&null!=t&&t.id&&E){var e,a=[];let n="";var r=Number(E)+1;for(let e=null!==M&&void 0!==M&&M.current&&null!==M&&void 0!==M&&M.current[null==t?void 0:t.id]?M.current[null==t?void 0:t.id]:0;e<r;e+=30){var o=e+30>r?r:e+30;try{var i=await D.pendingReward(t.id,e,o-1);(i=i&&i[0]?i[0]:"")&&(!n&&i.reward?n=i.reward:i.reward&&(n=n.add(i.reward)),a.push({startEpoch:i.startEpoch.toString(),endEpoch:i.endEpoch.toString(),reward:i.reward.toString()}))}catch(e){M.current[null==t?void 0:t.id],M.current[null==t?void 0:t.id]=o}}var l,d=[];for(const t of a)if(0===d.length)d.push({startEpoch:t.startEpoch,endEpoch:t.endEpoch});else{const e=d.length-1,c=d[e];Number(c.endEpoch)===Number(t.startEpoch)-1?Number(t.endEpoch)-Number(d[e].startEpoch)<=30?d[e].endEpoch=t.endEpoch:30<Number(t.endEpoch)-Number(d[e].startEpoch)?(l=Number(d[e].startEpoch),d[e].endEpoch=l+30-1+"",d.push({startEpoch:l+30+"",endEpoch:t.endEpoch})):d.push({startEpoch:t.startEpoch,endEpoch:t.endEpoch}):d.push({startEpoch:t.startEpoch,endEpoch:t.endEpoch})}return{list:d,totalReward:null==(e=n)?void 0:e.toString()}}},[D,E]),ae=Object(ue.useCallback)(async()=>{if(E&&l&&0<l.length){var e={};for(const t of l){var n=await te(t);n&&(e[t.id]=n)}U(e)}},[E,l]),re=(Object(ue.useEffect)(()=>{ae()},[E,l]),Object(ue.useCallback)(async()=>{if(R&&o&&A){var e=await R.balanceOf(o),n=await R.totalSupply(),n=(F(null==n?void 0:n.toString()),Array.from({length:parseInt(e)},(e,n)=>n));try{var t=await Promise.all(n.map(async e=>{var n=await R.tokenOfOwnerByIndex(o,e),t=await R.locked(n),a=await R.balanceOfNFT(n),r=await R.tokenURI(n),r=(await Oe.a.get(r))["data"];return{...r,index:e,id:null==n?void 0:n.toString(),lockEnds:t.end.toNumber(),lockAmount:fe.a.format(A.decimals,t.amount).toExact(),lockValue:fe.a.format(C.decimals,a).toExact(),type:"VEDELTA"}}));I(t)}catch(e){}}r().then(e=>{d(e)})},[R,o,A])),oe=Object(ue.useCallback)(()=>{re(),r().then(e=>{d(e)})},[r,re]),ie=(Object(ue.useEffect)(()=>{oe()},[R,o,A]),Object(ge.a)(oe,1e4),Object(ue.useCallback)(()=>{D&&D.getCurrentEpochId().then(e=>{v(e.toString())}).catch(e=>{v("0")})},[D])),le=(Object(ue.useEffect)(()=>{ie()},[D]),Object(ge.a)(ie,1e4),Object(ue.useCallback)(()=>{Oe.a.get("https://evm.planq.network/api?module=stats&action=tokensupply&contractaddress=0x6aF48997671584672e084Bf2296473677598ee58").then(e=>{e.data&&V(e.data)})},[])),de=(Object(ue.useEffect)(()=>{le()},[]),Object(ue.useEffect)(()=>{var e;null!==A&&void 0!==A&&A.label&&(e=null===A||void 0===A?void 0:A.label,new Promise(n=>{!function(t,a,r,o){const i=window.localStorage.getItem(a);return new Promise(n=>{var e;i?(e=JSON.parse(i),Date.now()-Number(e.timestamp)>r||!e.data||o&&o!==e.address?je(t,a,o).then(e=>{"Success"===e.msg?n(e.data):n("")}):n(e.data)):je(t,a,o).then(e=>{"Success"===e.msg?n(e.data):n("")})})}("https://bridgeapi.deltaswap.io/token/price?label=".concat(e),e+"_PRICE",36e5).then(e=>{e.usd?(e=e.usd,n(e)):n("")})}).then(e=>{e&&_(e)}))},[A]),Object(ue.useMemo)(()=>{var e,n,t,a,r,o,i=[];return h&&C?i.push({name:"veDELTA Supply",value:Object(Be.c)(fe.a.format(C.decimals,h).toExact(),2),loading:!1}):i.push({name:"veDELTA Supply",value:"",loading:!0}),b&&A?(o=fe.a.format(A.decimals,b).toExact(),i.push({name:"Locked DELTA",value:Object(Be.c)(o,2),loading:!1})):i.push({name:"Locked DELTA",value:"",loading:!0}),b&&p&&A?(o=Number(fe.a.format(A.decimals,b).toExact())/p,i.push({name:"% Circ. DELTA Locked",value:Object(Be.c)(100*o,2)+"%",loading:!1})):i.push({name:"% Circ. DELTA Locked",value:"",loading:!0}),h&&b&&C&&A?(o=fe.a.format(C.decimals,h),n=fe.a.format(A.decimals,b),e=fe.a.format(0,"126144000"),a=fe.a.format(0,"31536000"),o=o.divide(n).multiply(e).divide(a),i.push({name:"Avg. Lock Time (years)",value:o.toSignificant(2),loading:!1})):i.push({name:"Avg. Lock Time (years)",value:"",loading:!0}),g&&T?(n=604800/(Number(g.endTime)-Number(g.startTime)),e=fe.a.format(T.decimals,g.totalReward).toExact(),i.push({name:"Est. Yield Per Week",value:Object(Be.c)(Number(e)*n,2)+" "+T.symbol,loading:!1})):i.push({name:"Est. Yield Per Week",value:"",loading:!0}),(j||g)&&x&&k&&T&&C?(a=j&&"0"!==(null===j||void 0===j?void 0:j.totalReward)?j:g,o=fe.a.format(T.decimals,null!=a&&a.totalReward?null==a?void 0:a.totalReward:"0"),e=fe.a.format(C.decimals,x),n=fe.a.format(0,parseInt(k)+""),t=fe.a.format(0,"31536000"),a=fe.a.format(0,null!=a&&a.endTime?Number(a.endTime)-Number(a.startTime)+"":"0"),r=fe.a.format(0,"100"),o.greaterThan("0")&&n.greaterThan("0")&&a.greaterThan("0")&&e.greaterThan("0")?(o=o.divide(n).multiply(t).divide(a).divide(e).multiply(r),i.push({name:"APR",value:o.toSignificant(2)+"%",loading:!1,question:"Assumes 1 veDELTA = 1 DELTA (1 DELTA locked 4 years)"}),Q(o.toSignificant(2)+"%")):i.push({name:"APR",value:"- %",loading:!1,question:"Assumes 1 veDELTA = 1 DELTA (1 DELTA locked 4 years)"})):i.push({name:"APR",value:"",loading:!0,question:"Assumes veDELTA = 1 DELTA (1 DELTA locked 4 years)"}),i},[x,g,p,b,h,j,k,C,A])),ce=Object(ue.useCallback)(()=>{L&&null!==C&&void 0!==C&&C.address&&L.balanceOf(null===C||void 0===C?void 0:C.address).then(e=>{W(null==e?void 0:e.toString())})},[L,C]),me=(Object(ue.useEffect)(()=>{ce()},[L]),Object(ge.a)(ce,1e4),Object(ue.useCallback)(async()=>{D&&E&&(D.getEpochInfo(E).then(e=>{e={startTime:e[0].toString(),endTime:e[1].toString(),totalReward:e[2].toString()};f(e),q(e)}).catch(e=>{f("")}),D.getEpochTotalPower(E).then(e=>{w(e.toString())}).catch(e=>{w("")}))},[D,E]));return Object(ue.useEffect)(()=>{me()},[D,E]),Object(ge.a)(me,1e4),se.a.createElement(Pe.a,null,se.a.createElement(Ee.a,{isOpen:P,onDismiss:()=>{u(""),c(!1)},title:t("Claim Reward")},function(n){if("VESHARE"===(null===m||void 0===m?void 0:m.type)){const n=null!==m&&void 0!==m&&m.reward&&i?Object(Be.c)(null===m||void 0===m?void 0:m.reward,2):"";return n&&Number(n)?se.a.createElement(se.a.Fragment,null,se.a.createElement(an,null,se.a.createElement(xe.a,{symbol:null===i||void 0===i?void 0:i.symbol,size:"3rem"})),se.a.createElement(tn,null,n," ",null===i||void 0===i?void 0:i.symbol),se.a.createElement(ve.b,null,se.a.createElement(we.c,{disabled:y,onClick:()=>{ee&&(N(!0),ee().then(()=>{N(!1),c(!1)}))}},t("Claim Reward")))):se.a.createElement(se.a.Fragment,null,se.a.createElement(De,null,t("No reward.")))}if(0===n)return se.a.createElement(se.a.Fragment,null,se.a.createElement(De,null,t("Reward query in progress...")));if(2===n)return se.a.createElement(se.a.Fragment,null,"Error");{const n=null!==B&&void 0!==B&&B.totalReward&&T?fe.a.format(null===T||void 0===T?void 0:T.decimals,null===B||void 0===B?void 0:B.totalReward).toSignificant(6):"";if(null===j||void 0===j||!j.startTime||n)return n?se.a.createElement(se.a.Fragment,null,se.a.createElement(an,null,se.a.createElement(xe.a,{symbol:null===T||void 0===T?void 0:T.symbol,size:"3rem"})),se.a.createElement(tn,null,n," ",null===T||void 0===T?void 0:T.symbol),se.a.createElement(ve.b,null,se.a.createElement(we.c,{disabled:y,onClick:()=>{$&&(N(!0),$().then(()=>{N(!1),c(!1)}))}},t("Claim Reward")))):se.a.createElement(se.a.Fragment,null,se.a.createElement(De,null,t("No reward.")));{const n=Number(null===j||void 0===j?void 0:j.startTime)-parseInt(Date.now()/1e3+"");let e="";return n<60&&0<n?e=n+"s":60<=n&&n<3600?e=(n/60).toFixed(2)+"min":3600<=n&&n<86400?e=(n/3600).toFixed(2)+"h":86400<=n&&(e=(n/86400).toFixed(2)+"D"),e?se.a.createElement(se.a.Fragment,null,se.a.createElement(De,null,"Remaining time for next collection:",e)):se.a.createElement(se.a.Fragment,null,se.a.createElement(De,null,t("No reward.")))}}}(z)),se.a.createElement(Ee.a,{isOpen:Y,onDismiss:()=>{G(""),H(!1)},title:t("NFT")},se.a.createElement("img",{src:J,style:{width:"100%"}})),se.a.createElement(rn,null,se.a.createElement("div",{className:"list"},de.map((e,n)=>se.a.createElement("div",{className:"item",key:n},se.a.createElement("div",{className:"content"},se.a.createElement("h3",{className:"title"},e.name,e.question?se.a.createElement(Ie.a,{text:e.question}):""),e.loading?se.a.createElement("p",{className:"loading"},"Loading"):se.a.createElement("p",{className:"value"},e.value)))))),se.a.createElement(Xe,null,e&&X.includes(e.toString())?se.a.createElement(Ze,{to:"/vest/create"},t("Create Lock")):se.a.createElement(se.a.Fragment,null,X.map((n,e)=>se.a.createElement($e,{key:e,onClick:()=>{var e;a&&a({chainId:Re.a.getCurChainInfo(n).chainID,label:null==(e=Re.a.getCurChainInfo(n))?void 0:e.chainType}),Object(Qe.b)(n).then(e=>{"Error"===e.msg&&alert(t("changeMetamaskNetwork",{label:Re.a.getCurChainInfo(n).networkName}))})}},t("ConnectedWith")+" "+Re.a.getCurChainInfo(n).name)))),se.a.createElement(ze,null,se.a.createElement(We,null,se.a.createElement(Ve,null,se.a.createElement("tr",null,se.a.createElement(ke,{className:"l"},t("NFT ID")),se.a.createElement(ke,{className:"l"},t("Vest Amount")),se.a.createElement(ke,{className:"l"},t("Vest Value")),se.a.createElement(ke,{className:"c"},t("Vest Expires")),se.a.createElement(ke,{className:"c"},t("APR")),se.a.createElement(ke,{className:"c"},t("Action")))),se.a.createElement(Ue,null,Z.map((n,e)=>se.a.createElement("tr",{key:e},se.a.createElement(ye,null,se.a.createElement(qe,null,se.a.createElement(on,{onClick:()=>{G(null==n?void 0:n.image),H(!0)},style:{cursor:"pointer"}},se.a.createElement("img",{src:null==n?void 0:n.image})),se.a.createElement(_e,null,se.a.createElement("h3",null,n.id)))),se.a.createElement(ye,{className:"l"},n.lockAmount?Object(Be.c)(n.lockAmount,2):"-"),se.a.createElement(ye,{className:"l"},n.lockValue?Object(Be.c)(n.lockValue,2):"-"),se.a.createElement(ye,{className:"c"},n.lockEnds?Le.a.unix(n.lockEnds).format("YYYY-MM-DD"):""),se.a.createElement(ye,{className:"l"},"VEDELTA"===n.type?function(e,n){const t=j&&"0"!==(null===j||void 0===j?void 0:j.totalReward)?j:g,a=null!==t&&void 0!==t&&t.totalReward&&T.decimals?fe.a.format(T.decimals,t.totalReward).toExact():"",r=t?Number(t.endTime)-Number(t.startTime):"",o=k?Number(k):"",i=x&&C.decimals?fe.a.format(C.decimals,x).toExact():"";if(a&&o&&i&&0<Number(i)&&e&&n&&r){const t=Number(a)/o*Number(e)/Number(i)*31536e3/r/Number(n)*100;return Object(Be.c)(t,2)+"%"}return"-"}(n.lockValue,n.lockAmount):K||"-"),se.a.createElement(ye,{className:"c",width:"260px"},se.a.createElement(Fe,null,se.a.createElement(nn,{className:"VESHARE"===n.type?"disabled":"",to:"VESHARE"===n.type?"/vest":"/vest/manger?id="+n.index},"Manage"),se.a.createElement(en,{onClick:()=>{u(n),c(!0)}},t("Claim")),se.a.createElement(en,{disabled:parseInt(Date.now()/1e3+"")<Number(n.lockEnds)||y||"VESHARE"===n.type,onClick:()=>{var e=null!==C&&void 0!==C&&C.decimals&&null!==O&&void 0!==O&&null!=(e=O[n.id])&&e.totalReward?fe.a.format(C.decimals,O[n.id].totalReward).toExact():"";e&&.001<=Number(e)?alert("Please claim the reward first"):!O||!O[n.id]||parseInt(Date.now()/1e3+"")<Number(n.lockEnds)?alert("Loading"):parseInt(Date.now()/1e3+"")>=Number(n.lockEnds)&&ne&&(N(!0),ne(n.id).then(()=>{N(!1)}))}},t("Withdraw"))))))))))}}}]);